#!/bin/bash
# shellcheck source=/dev/null

start=`gdate +%s.%N`

EDITOR="vim"
export EDITOR

# If not running interactively, don't do anything
if [[ -n "$PS1" ]] ; then

  # Source global definitions.
  [[ -s "/etc/bashrc" ]] && source "/etc/bashrc"

  if [[ -d /usr/local/etc/bash_completion.d ]]; then
    for comp_file in /usr/local/etc/bash_completion.d/**
    do
      source "$comp_file"
    done
  fi

  # Source personnal config files.
  for config_file in ~/.dotfiles/**/*.sh
  do
    source "$config_file"
  done

  # Source local shit. (For example private credentials or scripts that only
  # make sense on the current machine). Hey Bachir!
  [[ -s "$HOME/.bashrc.local" ]] && source "$HOME/.bashrc.local"

  # Set teminal as 256 colors.
  if [ -z "$TMUX" ]; then
    export TERM='screen-256color'
  fi
fi
end=`gdate +%s.%N`

runtime=$( echo "$end - $start" | bc -l )
echo $runtime
